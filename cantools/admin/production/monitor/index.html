<!doctype html><html><head><title>admin - monitor</title><link rel="stylesheet" href="/css/ct.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chartist/0.10.1/chartist.min.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/chartist/0.10.1/chartist.min.js"></script> <script>var CT={"_":{"vals":{},"extReqs":{},"scriptImportCb":{},"onImport":function(a){CT._.scriptImportCb[a].forEach(function(a){a();});},"triggerOnload":function(a){(a||window)._ct_onload.forEach(function(a){a();});}},"info":{"page":location.pathname.slice(1,-5),"userAgent":navigator.userAgent||navigator.vendor||window.opera},"net":{"_path":"","_mode":"ct","_cache":false,"_encode":true,"_spinner":false,"_scrambler":"1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ+/=_","_scramble":function(a){var b="",c=a.length,d,e,f=CT.net._scrambler,g=f.length,h=g/2;for(d=0;d<c;d++){e=f.indexOf(a[d]);if(e==-1)b+=a[d];else b+=f[(e+h)%g];}return b;},"_encoder":function(a){return CT.net._scramble(btoa(a));},"_decoder":function(a){return atob(CT.net._scramble(a));},"_silentFail":true,"setMode":function(a){if(a!="ct"&&a!="basic"&&a!="passthrough"){CT.log("CT.net.setMode() - illegal mode specified: "+a);CT.log("mode must be one of: 'ct', 'basic', 'passthrough'");}else CT.net._mode=a;},"setSilentFail":function(a){CT.net._silentFail=a;},"setScrambler":function(a){CT.net._scrambler=a;},"setSpinner":function(a){CT.net._spinner=a;},"setCache":function(a){CT.net._cache=a;},"setEncoder":function(a){CT.net._encoder=a;},"setDecoder":function(a){CT.net._decoder=a;},"fullPath":function(a){if(!CT.net._path){var b=document.getElementsByTagName("script");for(var c=0;c<b.length;c++)if(b[c].src.slice(-8)=="CT/ct.js"){CT.net._path=b[c].src.replace("CT/ct.js","");break;}CT.net._path=CT.net._path||"/";}return CT.net._path+a;},"xhr":function(a,b,c,d,e,f,g,h,i){var j=window.XMLHttpRequest?new XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP");j.open(b,a,d);if(i)j.responseType=i;if(!(f&&"Content-Type" in f))j.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var k in f)j.setRequestHeader(k,f[k]);j.onreadystatechange=e&&function(){(j.readyState==4)&&e(j);};if(c){if(!g&&CT.net._mode!="passthrough"){if(!h&&CT.net._mode=="ct")c=CT.net._rd(c,true);c=JSON.stringify(c);}if(CT.net._encode&&!(c instanceof FormData||a.startsWith("http")))c=CT.net._encoder(c);}j.send(c);if(!d)return j.responseText;},"_fallback_error":function(a){if(CT.net._silentFail)CT.log(a);else alert(a);},"_u2l":function(a){return btoa(encodeURIComponent(a));},"_l2u":function(a){return decodeURIComponent(atob(a));},"_rd":function(a,b){if(a){if(typeof a=="string")return CT.net[(b?"_u2l":"_l2u")](a);if(typeof a=="object"){var c,d=Array.isArray(a)?[]:{};for(c in a)d[c]=CT.net._rd(a[c],b);return d;}}return a;},"_ctsuccess":function(a,b,c){var d=JSON.parse(a);if(c)d=CT.net._rd(d);if(CT.net._cache&&b)CT.storage.set(b,d);return d;},"_ctresponse":function(a,b,c){if(CT.net._encode&&!c)a=CT.net._decoder(a);var d=a.charAt(0),e={success:!!(d%2)};a=a.slice(1);if(d=="2"||d=="3")e.data=CT.net._rd(a);else if(e.success)e.data=CT.net._ctsuccess(a,b,d=="3");else e.data=a;return e;},"_xhrcb":function(a,b,c,d,e,f,g,h,i,j,k){if(CT.net._spinner||j){CT.net._spinner_node=CT.net._spinner_node||CT.dom.spinner();document.body.appendChild(CT.net._spinner_node);}b=b||function(){};c=c||function(a){CT.net._fallback_error((f||"error")+": "+a);};return function(f){if(f.status==200||(h&&f.status==500)){if(CT.net._spinner||j)CT.dom.remove(CT.net._spinner_node);var l=f.responseType=="blob"?f.response:f.responseText.trim();if(k||CT.net._mode=="basic")b(l,d);else if(!i&&CT.net._mode=="ct"){var m=CT.net._ctresponse(l,g,a.startsWith("http"));if(m.success)b(m.data,d);else c(m.data,e);}else b(CT.net._ctsuccess(l,g),d);}else c("request to "+a+" failed! ("+f.status+" - "+f.responseText+")",e);};},"formData":function(a,b,c){var d=new FormData();if(b)for(var e in b)d.append(e,b[e]);d.append(c||"data",a);return d;},"formUp":function(a,b,c){b.params=CT.net.formData(a,b.params,c);b.passthrough=true;b.headers=b.headers||{};b.headers["Content-Type"]="multipart/form-data";return CT.net.post(b);},"post":function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){if(arguments.length==1&&typeof arguments[0]!="string"){var o=arguments[0];a=o.path;b=o.params;c=o.errMsg;d=o.cb;e=o.eb;f=o.headers;g=o.cbarg;h=o.ebarg;i=o.sync;j=o.passthrough;k=o.noct;l=o.spinner;m=o.basic;n=o.responseType;}var p;if(CT.net._cache){p=a+JSON.stringify(b);var q=CT.storage.get(p);if(q)return d(q,g);}return CT.net.xhr(a,"POST",b,!i,CT.net._xhrcb(a,d,e,g,h,c,p,null,k,l,m),f,j,k,n);},"put":function(a,b,c,d,e,f,g,h,i){CT.net.xhr(a,"PUT",b,true,CT.net._xhrcb(a,c,null,null,null,null,null,f,g,h,i),d,e,g);},"del":function(a,b,c,d){CT.net.xhr(a,"DELETE",b,true,CT.net._xhrcb(a,c),d);},"qs":function(a,b){a=a||"";if(b){var c=[];for(var d in b)c.push(d+"="+escape(b[d]));a+="?"+c.join("&");}return a;},"get":function(a,b,c,d){var e,f,g=CT.net._cache&&(c||d);a=CT.net.qs(a,b);if(g){f=CT.storage.get(a);if(f)return f;}e=CT.net.xhr(a,"GET");if(d)e=CT.net._ctresponse(e,a).data;else{if(c)e=JSON.parse(e);if(g)CT.storage.set(a,e);}return e;}},"scriptImport":function(a,b,c){var d=document.getElementsByTagName("head")[0],e=(a.slice(0,4)=="http")&&a||(CT.net.fullPath(a.replace(/\./g,"/")+".js")),f=!(e in CT._.scriptImportCb);if(f)CT._.scriptImportCb[e]=[];if(b)CT._.scriptImportCb[e].push(b);if(f){d.appendChild(CT.dom.script(e));d.appendChild(CT.dom.script(null,"CT._.onImport('"+e+"');",c));}},"require":function(a,b){if(a.slice(0,4)=="http"){if(!(a in CT._.extReqs)){CT._.extReqs[a]=true;eval(CT.net.get(a));}}else{var c=a.split("."),d,e=window;while(e&&c.length){d=c.shift();if(d in e)e=e[d];else{c.unshift(d);c.forEach(function(a,b){e=e[a]={};});c.length=0;e=null;}}if(!e)eval(CT.net.get(CT.net.fullPath(a.replace(/\./g,"/")+".js")));}},"initCore":function(){core.config.css.forEach(function(a){CT.dom.addStyle(null,a);});if(core.config.autoparse)CT.dom.setAutoparse(core.config.autoparse);CT.layout.header(core.config.header);core.config.footer&&CT.layout.footer(core.config.footer);core.config.mobile.scale&&CT.dom.meta("viewport","width=device-width, initial-scale=1");},"setVal":function(a,b){CT._.vals[a]=b;},"getVal":function(a){return CT._.vals[a];},"clipboard":function(a,b){var c=CT.dom.field(null,a,"transparent");document.body.appendChild(c);c.select();document.execCommand('copy');CT.dom.remove(c);alert(b||"copied to clipboard");},"onload":function(a,b){b=b||window;if(!b._ct_onload){b._ct_onload=[];b.addEventListener('load',function(){CT._.triggerOnload(b);});}b._ct_onload.push(a);},"on":function(a,b,c){(c||window).addEventListener(a,b);},"onresize":function(a,b){CT.on("resize",a,b);},"dmerge":function(){var a,b,c,d={};for(a=arguments.length-1;a>-1;a--)if(arguments[a])for(b in arguments[a]){c=arguments[a][b];if(typeof c=="object")d[b]=Array.isArray(c)?c.slice():CT.dmerge(c);else d[b]=c;}return d;},"merge":function(){var a,b,c={};for(a=arguments.length-1;a>-1;a--)if(arguments[a])for(b in arguments[a])c[b]=arguments[a][b];return c;},"bind":function(a,b){for(var c in b)if(typeof b[c]=="function")b[c]=b[c].bind(a);else if(typeof b[c]=="object")CT.bind(a,b[c]);},"Class":function(a,b){a.fullInit=function(){if(b)b.prototype.fullInit.apply(this,arguments);if(a.init)a.init.apply(this,arguments);};var c=function(){var b=CT.dmerge(c.prototype);CT.bind(b,b);if(!b.CLASSNAME){b.CLASSNAME="CT Class";CT.log("Class missing CLASSNAME property -- falling back to 'CT Class'");}if(!b.log)b.log=CT.log.getLogger(b.CLASSNAME);a.fullInit.apply(b,arguments);return b;};c.prototype=CT.merge(a,b&&b.prototype);return c;}};CT.info.android=/Android/.test(CT.info.userAgent);CT.info.iOs=/iPhone|iPad/.test(CT.info.userAgent);CT.info.mobile=/android.+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(CT.info.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(CT.info.userAgent.substr(0,4));CT.info.iPhone=CT.info.userAgent.indexOf("iPhone")!=-1;CT.info.iPad=CT.info.userAgent.indexOf("iPad")!=-1;CT.info.androidTablet=CT.info.android&&!CT.info.mobile;CT.info.isStockAndroid=(CT.info.userAgent.indexOf("Mozilla/5.0")!=-1)&&(CT.info.userAgent.indexOf("Android ")!=-1)&&(CT.info.userAgent.indexOf("AppleWebKit")!=-1)&&(CT.info.userAgent.indexOf("Chrome")==-1);CT.info.isMac=/Macintosh/.test(CT.info.userAgent);CT.info.isChrome=CT.info.userAgent.indexOf("Chrome")!=-1;CT.info.isFirefox=CT.info.userAgent.indexOf("Firefox")!=-1;CT.log=function(a,b){if(CT.log._silent)return;a=CT.log._fix(a);for(var c=0;c<CT.log.grep._ins.length;c++)if(a.indexOf(CT.log.grep._ins[c])==-1)return;for(var c=0;c<CT.log.grep._outs.length;c++)if(a.indexOf(CT.log.grep._outs[c])!=-1)return;var d=Date()+" ::";if(b)for(var c=0;c<b;c++)d+="  ";console.log(d,a);};CT.log.grep=function(a,b){CT.log.grep._ins=a||[];CT.log.grep._outs=b||[];};CT.log.grep._ins=[];CT.log.grep._outs=[];CT.log._fix=function(a){return(typeof a=="object")?JSON.stringify(a):a;};CT.log._silent=true;CT.log.set=function(a){CT.log._silent=a;};CT.log._loggerCounts={};CT.log.getLogger=function(a){var b=CT.log._loggerCounts;if(!(a in b))b[a]=0;var c=a+" {"+b[a]+"}";b[a]+=1;var d=function(){var a=[];for(var b=0;b<d.arguments.length;b++)a.push(CT.log._fix(d.arguments[b]));CT.log("["+c+"] "+a.join(" "));};return d;};CT.log._tcbs={};CT.log._timer=CT.log.getLogger("timer");CT.log.startTimer=function(a,b){CT.log._tcbs[a]=Date.now();b&&CT.log._timer("Initiated",a,"with",b);};CT.log.endTimer=function(a,b){var c=(Date.now()-CT.log._tcbs[a])/1000;CT.log._timer("Completed in",c,"seconds:",a,b);};if(!window.JSON)CT.require("CT.lib.shims.JSON",true);if(!window.sessionStorage)CT.require("CT.lib.shims.sessionStorage",true);if(!document.createElement("div").classList)CT.require("CT.lib.shims.classList",true);if(!window.requestAnimationFrame)CT.require("CT.lib.shims.requestAnimationFrame",true);if(!Object.values)CT.require("CT.lib.shims.ObjectValues",true);if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)CT.require("CT.lib.shims.getUserMedia",true);if(!window.addEventListener)window.addEventListener=window.attachEvent;;window.CT.align=window.CT.align||{};CT.align={"absers":[],"fullscreeners":[],"centerscreeners":[],"_setLeft":function(a,b){return a.style.left=(8+b)+"px";},"absed":function(a,b,c,d,e){a.style.position="absolute";CT.align._setLeft(a,b);if(c!=null)a.style.top=c+"px";if(d!=null)a.style.right=d+"px";if(e!=null)a.style.bottom=e+"px";CT.align.absers.push([a,b,c,d,e]);return a;},"centernode":function(a){if(a.scrollHeight){a.origScrollHeight=a.origScrollHeight||a.scrollHeight;var b=CT.align.height();var c=b-100;var d=parseInt(a.style.height)||a.origScrollHeight;if(d>c||d<a.origScrollHeight){d=Math.min(a.origScrollHeight,c);a.style.height=d+"px";}a.style.top=(b-d)/2+"px";a.style.left=(CT.align.width()/2)-(a.clientWidth/2)+"px";}},"centerall":function(){for(var a=0;a<CT.align.centerscreeners.length;a++)CT.align.centernode(CT.align.centerscreeners[a]);},"centered":function(a){a.style.position="fixed";CT.align.centernode(a);if(CT.align.centerscreeners.indexOf(a)==-1)CT.align.centerscreeners.push(a);return a;},"resize":function(){var a=CT.align.absers;for(var b=0;b<a.length;b++)CT.align._setLeft(a[b][0],a[b][1]);CT.align.centerall();},"position":function(a){var b=curtop=0;if(a.offsetParent)do{b+=a.offsetLeft;curtop+=a.offsetTop;}while(a=a.offsetParent);return [b,curtop];},"offset":function(a){var b={"top":0,"left":0};while(a){if(a==(CT.dom.ALLNODE||document.body))break;b.top+=a.offsetTop;b.left+=a.offsetLeft;a=a.offsetParent;}return b;},"height":function(a){return a?a.clientHeight:window.innerHeight;},"width":function(a){return a?a.clientWidth:window.innerWidth;}};;window.CT.data=window.CT.data||{};CT.data={map:{},"sameList":function(a,b){if(a.length!=b.length)return false;for(var c=0;c<a.length;c++)if(a[c]!=b[c])return false;return true;},"copyList":function(a){var b=[];for(var c=0;c<a.length;c++)b.push(a[c]);return b;},"diff":function(a,b,c,d,e,f){var g=c||{};d=d||[];f=f||[];e=e||{};for(var h in b)if(d.indexOf(h)!=-1){for(var i in b[h])if(b[h][i]!=a[h][i]){g[h]=b[h];break;}}else if(f.indexOf(h)!=-1){if(!CT.data.sameList(b[h],a[h]))g[h]=b[h];}else if(h in e){if(b[h]!=a[h][e[h]])g[h]=b[h];}else if(b[h]!=a[h])g[h]=b[h];return g;},"append":function(a,b){if(a.indexOf(b)==-1)a.push(b);},"remove":function(a,b){var c=a.indexOf(b);if(c!=-1)return a.splice(c,1);},"sum":function(a){return a.length?a.reduce(function(a,b){if(Array.isArray(a))return a.map(function(a,c){return a+b[c];});return a+b;}):a;},"alpha":function(a,b){return a.sort(function(a,c){if(b){a=a[b];c=c[b];}return(a<c)?-1:(a>c)?1:0;});},"has":function(a){return !!CT.data.map[a];},"get":function(a){return CT.data.map[a];},"add":function(a){if(CT.data.map[a.key])for(var b in a)CT.data.map[a.key][b]=a[b];else CT.data.map[a.key]=a;},"addSet":function(a){for(var b=0;b<a.length;b++)CT.data.add(a[b]);},"uniquify":function(a,b){b=b||[];a.sort();var c=[];var d="";for(var e=0;e<a.length;e++)if(a[e]!=d&&b.indexOf(a[e])==-1){d=a[e];c.push(d);}return c;},"numstr":function(a){return Math.floor(Math.random()*Math.pow(10,a)).toString();},"random":function(a){return Math.floor(Math.random()*a);},"choice":function(a){return a[CT.data.random(a.length)];},"checkAndDo":function(a,b,c,d,e,f,g){var h=[];a=CT.data.uniquify(a);for(var i=0;i<a.length;i++)if(CT.data.map[a[i]]==null||e&&CT.data.map[a[i]][e]==null)h.push(a[i]);if(h.length==0)return b();g=g||{"gtype":"data"};g.keys=h;CT.net.post(f||"/get",g,"error retrieving data",function(a){CT.data.addSet(a);if(c)c(h);b();},d);},"requirePrep":function(){},"itemReady":function(a,b){var c=a in CT.data.map;b&&b.forEach(function(b){c=c&&b in CT.data.map[a];});return c;},"require":function(a,b,c,d,e){CT.data.requirePrep(a);if(CT.data.itemReady(a,c))b(CT.data.get(a));else{e=e||{"gtype":"user","chat":1};e.uid=a;CT.net.post(d||"/get",e,"error retrieving data",function(c){CT.data.add(c);b(CT.data.get(a));});}},"requireAll":function(a,b,c,d,e,f){a.forEach(CT.data.requirePrep);var g=[];for(var h=0;h<a.length;h++)if(!CT.data.itemReady(a[h],d))g.push(a[h]);if(g.length==0)b(a);else{f=f||{"gtype":"user","chat":1};f.uids=g;CT.net.post("/get",f,"error retrieving data",function(c){CT.data.addSet(c);b(a);});}}};;window.CT.dom=window.CT.dom||{};CT.dom={"_autoparse":false,"setAutoparse":function(a){CT.dom._autoparse=a;},"_nodes":{},"_obj2node":function(a){var b=[];if(a.builder){a.content=a.items.map(function(b){return a.builder(b);});delete a.builder;delete a.items;}["content","type","classname","id"].forEach(function(c){b.push(a[c]);delete a[c];});b.push(a);if(a.style){b.push(a.style);delete a.style;}return CT.dom.node.apply(null,b);},"node":function(a,b,c,d,e,f){var g=document.createElement(b||"div");if(a!=null)if(Array.isArray(a))a.forEach(function(a){g.appendChild(a instanceof Node?a:CT.dom.node(a));});else if(a instanceof Node)g.appendChild(a);else if(typeof a=="function")g.appendChild(a());else if(typeof a=="object")return CT.dom._obj2node(a);else if((typeof a=="string"&&a.length)||typeof a=="number")if(b=="table")alert("illegal innerHTML set on table! content: "+a);else if(b=="style"){g.type='text/css';if(g.styleSheet)g.styleSheet.cssText=a;else g.appendChild(document.createTextNode(a));}else{if(CT.dom._autoparse)a=CT.parse.process(a.toString());g.innerHTML=a;}if(c)g.className=c;if(d){g.id=d;CT.dom._nodes[d]=g;}g.on=function(a,b){if(b)return g.addEventListener(a,b);for(var c in a)g.addEventListener(c,a[c]);};if(e)for(var h in e){if(e[h]==null)continue;if(h=="value"||h=="onclick")g[h]=e[h];else if(h.slice(0,2)=="on")g.on(h.slice(2),e[h]);else g.setAttribute(h,e[h]);}if(f)for(var i in f)g.style[i]=f[i];return g;},"div":function(a,b,c,d,e){return CT.dom.node(a,"div",b,c,d,e);},"span":function(a,b,c,d,e){return CT.dom.node(a,"span",b,c,d,e);},"script":function(a,b,c){if(c)b="setTimeout(function() { "+b+" }, "+c+");";return CT.dom.node(b,"script",null,null,{"src":a});},"link":function(a,b,c,d,e,f,g){if(f==null)f={};if(b)f.onclick=b;if(c)f.href=c;if(g)f.target="_blank";return CT.dom.node(a,"a",d,e,f);},"button":function(a,b,c,d){return CT.dom.node(a,"button",c,d,{"onclick":b});},"field":function(a,b,c,d,e){e=e||{};if(b)e.value=b;if(d)e.type=d;return CT.dom.node("","input",c,a,e);},"file":function(a,b,c,d){return CT.dom.field(b,null,c,"file",{onchange:a,multiple:d});},"fieldList":function(a,b,c){var d=function(a){return b?b(a):CT.dom.field(null,a);},e=function(a){var b=CT.dom.button("remove",function(){CT.dom.remove(b.parentNode);});return CT.dom.node([b,d(a)]);},f=CT.dom.node(a&&a.map(e),null,null,null,null,c);f.empty=d();f.addButton=CT.dom.button("add",function(){if(f.empty.value){f.insertBefore(e(f.empty.value),f.firstChild);if(f.empty.fill)f.empty.fill();else f.empty.value="";}});f.addButton.style.width="57px";f.value=function(){return CT.dom.map(f,function(a){return a.lastChild.value;});};return f;},"textArea":function(a,b,c){return CT.dom.node("","textarea",c,a,b&&{"value":b}||null);},"img":function(a,b,c,d,e,f,g,h,i,j,k){if(arguments.length==1&&typeof arguments[0]!="string"){var l=arguments[0];a=l.src;b=l.imgclass;c=l.onclick;d=l.href;e=l.target;f=l.title;g=l.linkid;h=l.wrapperclass;i=l.imgid;j=l.noanchor;k=l.style;}var m=CT.dom.node("","img",b,i,{"src":a},k);if(j)m.onclick=c;else if(c||d){var n=CT.dom.link("",c,d);if(e)n.target=e;if(f)n.title=n.alt=f;if(g)n.id=g;if(h)m=CT.dom.div(m,h);n.appendChild(m);return n;}return m;},"panImg":function(a){a=CT.merge(a,{pan:true,panDuration:5000,className:"abs all0 noflow below"});var b=CT.dom.div(CT.dom.img(a.img,"abs"),a.className);if(a.pan){b.controller=CT.trans.pan(b.firstChild,{duration:a.panDuration},true);if(a.controllerHook){a.controllerHook.hide=b.controller.pause;a.controllerHook.show=b.controller.resume;}}return b;},"select":function(a,b,c,d,e,f,g){b=b||a;var h=CT.dom.node("","select","",c);if(g){e=e||"other";if(b.indexOf("other")==-1){b.push("other");if(b!=a)a.push("other");}h.other=CT.dom.field(null,(b.indexOf(d)==-1)&&d,"hidden");h.container=CT.dom.node([h,h.other]);h.container.value=function(){if(h.value=="other")return h.other.value.trim();return h.value;};}for(var i=0;i<a.length;i++)h.appendChild(CT.dom.node(a[i],"option","","",{"value":b[i]}));if(d)h.value=b.indexOf(d)!=-1&&d||e;h.onchange=function(){if(g)if(h.value=="other")h.other.style.display="block";else h.other.style.display="none";f&&f();};setTimeout(h.onchange);return h.container||h;},"range":function(a,b,c,d,e,f,g){var h=CT.dom.node("","input",f,g,{"type":"range","oninput":a&&function(){a(h.value);},"min":b,"max":c,"value":d,"step":e});return h;},"checkbox":function(a,b,c){var d={"type":"checkbox"};if(b)d.checked=b;return CT.dom.node("","input","",a,d,c);},"wrapped":function(a,b,c,d,e){CT.log("[DEPRECATION WARNING] CT.dom.wrapped() is deprecated. Use CT.dom.node().");var f=CT.dom.node("",b,c,d,e);if(!Array.isArray(a))a=[a];for(var g=0;g<a.length;g++)f.appendChild(a[g]);return f;},"audio":function(a,b,c,d,e,f,g,h,i,j,k){if(arguments.length==1&&typeof arguments[0]!="string"){var l=arguments[0];a=l.src;b=l.controls;c=l.autoplay;d=l.preload;e=l.onplay;f=l.onended;g=l.className;h=l.id;i=l.atts;j=l.oncanplay;k=l.onpause;}i=i||{};i.src=a;if(b)i.controls="true";if(c)i.autoplay="true";if(e)i.onplay=e;if(k)i.onpause=k;if(f)i.onended=f;if(j)i.oncanplay=j;i.preload=i.preload||d||"none";return CT.dom.node("","audio",g,h,i);},"video":function(a,b,c,d,e,f,g,h,i,j){if(arguments.length==1&&typeof arguments[0]!="string"){var k=arguments[0];a=k.src;b=k.className;c=k.id;d=k.attrs;e=k.style;f=k.oncanplay;g=k.onended;h=k.onplay;i=k.onpause;j=k.poster;}d=d||{};var l=false;if(a&&a.length&&typeof a!="string")l=true;else d.src=a;if(h)d.onplay=h;if(i)d.onpause=i;if(g)d.onended=g;if(f)d.oncanplay=f;if(j)d.poster=j;var m=CT.dom.node(l&&a.map(function(a){return CT.dom.node(null,"source",null,null,{src:a});}),"video",b,c,d,e);m.stream=function(a){m.src=window.URL.createObjectURL(a);m.play();};return m;},"iframe":function(a,b,c){var d=CT.dom.node("","iframe",b,c,{"src":a});d.setHash=function(a){CT.dom.getLoc(d).hash=a;};return d;},"pad":function(a){a=a||1;var b="";for(var c=0;c<a;c++)b+="&ensp;";return CT.dom.node(b,"span");},"br":function(a){a=a||1;var b=[];for(var c=0;c<a;c++)b.push(CT.dom.node(null,"br"));return CT.dom.node(b);},"marquee":function(a,b,c,d){var e=CT.dom.node(a,"marquee",b,null,{direction:c||"left",behavior:"alternate"});!d&&setTimeout(function(){CT.dom.each(e,function(a){a.style.height=e.clientHeight+"px";});});return e;},"getDoc":function(a){return a.documentWindow||a.contentWindow||a.contentDocument;},"getLoc":function(a){return CT.dom.getDoc(a).location;},"checkboxAndLabel":function(a,b,c,d,e,f){if(!c&&a.indexOf(" ")!=-1){c=a;a=a.replace(/ /g,"");}var g=CT.dom.node("","div",e);var h=a+"checkbox";var i=CT.dom.checkbox(h,b);g.appendChild(i);if(f)i.onclick=function(){f(i);};g.appendChild(CT.dom.node(c||a,"label",d,"",{"for":h,"htmlFor":h}));g.isChecked=function(){return i.checked;};return g;},"resizeTextArea":function(a){if(navigator.appName.indexOf("Microsoft Internet Explorer")==0)a.style.overflow='visible';else{while(a.rows>1&&a.scrollHeight<a.offsetHeight)a.rows--;while(a.scrollHeight>a.offsetHeight)a.rows++;}},"labelAndField":function(a,b,c,d,e,f,g){b=b||a.replace(/ /g,"");var h=CT.dom.node();var i=CT.dom[(f&&"textArea"||"field")](b,e,"right "+(c||""),(a.indexOf("Password")!=-1)&&"password"||null);if(f&&g)i.onkeyup=function(){CT.dom.resizeTextArea(i);return true;};h.appendChild(i);h.appendChild(CT.dom.node(a,"label",d,null,{"for":b,"htmlFor":b}));h.appendChild(CT.dom.node("","div","clearnode"));return h;},"_radioStripStep":function(a,b,c,d,e,f,g){var h=(e||"radiostrip")+(f||"")+c;var i=CT.dom.field(h,null,null,"radio");i.name=(e||"")+(f||"");i.onclick=function(){d(c);};if(g)i.checked=true;a.insertCell(-1).appendChild(i);b.insertCell(-1).appendChild(CT.dom.node(c,"label",null,null,{"htmlFor":h,"for":h}));},"radioStrip":function(a,b,c,d,e,f){var g=CT.dom.node("","table");g.style.textAlign="center";var h=g.insertRow(0);var i=g.insertRow(1);for(var j=0;j<b.length;j++)CT.dom._radioStripStep(h,i,b[j],c,d,e,b[j]==f);a.appendChild(g);},"linkWithIcon":function(a,b,c,d){var e=CT.dom.node("","span");e.appendChild(CT.dom.img(a,"vmiddle rpaddedsmall nodecoration",d,c));e.appendChild(CT.dom.link(b,d,c));return e;},"labeledImage":function(a,b,c,d,e,f,g,h,i){var j=CT.dom.link();var k=CT.dom.img(a,e);var l=CT.dom.node(c,"div",g);if(h){j.appendChild(l);j.appendChild(k);}else{j.appendChild(k);j.appendChild(l);}j.title=j.alt=d||c;var m=CT.dom.node(j,"div",f);if(b){j.href=b;j.target="_blank";}else if(i)m.onclick=i;return m;},"buildForm":function(a,b){var c=document.getElementById(a+"Table");for(var d=0;d<b.length;d++){var e=b[d];var f=a+e.replace(/ /g,"");var g=c.insertRow(-1);g.insertCell(0).appendChild(CT.dom.node(e,"label","","",{"htmlFor":f,"for":f}));var h=CT.dom.field(f);if(e.indexOf("Password")!=-1)h.type="password";g.insertCell(1).appendChild(h);}return c;},"timer":function(a,b,c,d,e){var f=CT.dom.node(a,"div",c,d,e);f._sec=a;f._check=function(){f._sec-=1;f.innerHTML=f._sec;if(f._sec==0){f.stop();b&&b();}};f.set=function(a){f.innerHTML=f._sec=a;};f.start=function(){f.stop();f._interval=setInterval(f._check,1000);};f.stop=function(){if(f._interval){clearInterval(f._interval);f._interval=null;}};f.start();return f;},"choices":function(a,b,c,d,e){d=d||"grayback";var f=CT.dom.node();f._sel=null;f.value=b?[]:-1;a.forEach(function(a,g){a.onclick=function(){if(!b&&f._sel)f._sel.classList.remove(d);f._sel=a;if(a.classList.contains(d)){a.classList.remove(d);if(b)CT.data.remove(f.value,g);else f.value=[];}else{a.classList.add(d);if(b)CT.data.append(f.value,g);else f.value=g;}e&&e(g);};a.classList.add(c||"choice_cell");f.appendChild(a);});return f;},"form":function(a,b,c,d,e){return CT.dom.node(a,"form",d,e,{method:c||"post",action:b});},"spinner":function(){return CT.dom.node(CT.dom.node([CT.dom.node("loading...","strong"),CT.dom.node("","span")],"div","ctspinner"),"div","ctswrap");},"_monthnames":["January","February","March","April","May","June","July","August","September","October","November","December"],"currentyear":Math.max(new Date().getFullYear(),2014),"dateSelectors":function(a,b,c,d,e,f,g){if(arguments.length==1&&!(arguments[0] instanceof Node)){var h=arguments[0];a=h.node;b=h.d;c=h.startdate;d=h.enddate;e=h.withtime;f=h.noday;g=h.val;}var i=["Year"];c=c||CT.dom.currentyear;d=d||CT.dom.currentyear;for(var j=c;j<=d;j++)i.push(j);a=a||CT.dom.node(null,"span");b=b||a;b.year=CT.dom.select(i);b.month=CT.dom.select(["Month"].concat(CT.dom._monthnames),["Month","01","02","03","04","05","06","07","08","09","10","11","12"]);a.appendChild(b.year);a.appendChild(b.month);if(!f){b.day=CT.dom.select(["Day","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"]);a.appendChild(b.day);}if(e){var k=["Time"];for(var j=0;j<24;j++){var l=j<10?"0"+j:j;k.push(l+":"+"00");k.push(l+":"+"30");}b.time=CT.dom.select(k);a.appendChild(b.time);}if(g){var m=g.split(" "),n=m[0].split("-");b.year.value=n[0];b.month.value=n[1];if(!f)b.day.value=n[2];if(e)b.time.value=m[1].slice(0,-3);}b.value=function(){if(b.year.value=="Year"||b.month.value=="Month"||(!f&&b.day.value=="Day"))return null;var a=b.year.value+"-"+b.month.value;if(!f)a+="-"+b.day.value;if(e)a+=" "+b.time.value+":00";else a+=" 00:00:00";return a;};return a;},"_pwpcb":null,"passwordPrompt":function(a){CT.log("[DEPRECATION WARNING] CT.dom.passwordPrompt() is deprecated. Use CT.Prompt instead.");CT.dom._pwpcb=a;var b=document.getElementById("passwordprompt");var c=document.getElementById("pwpfield");if(b==null){b=CT.dom.node("","div","hidden basicpopup centered","passwordprompt");document.body.appendChild(b);b.appendChild(CT.dom.node("For your own security, please enter your password.","div","bottompadded"));c=CT.dom.field("pwpfield",null,null,"password");b.appendChild(c);var d=function(){if(!CT.parse.validPassword(c.value))return alert("invalid password!");b.style.display="none";CT.dom._pwpcb(c.value);};CT.dom.inputEnterCallback(c,d);b.appendChild(CT.dom.button("Continue",d));b.appendChild(CT.dom.button("Cancel",function(){b.style.display="none";}));}c.value="";b.style.display="block";c.focus();CT.align.centered(b);},"_blurs":{},"setBlur":function(a,b){CT.dom._blurs[a]=b;},"getFieldValue":function(a,b,c){var d=CT.dom.id(a)||a;if(!d)return null;if(b)for(var e=0;e<b.length;e++)d=d[b[e]];var f=d.container?d.container.value():d.value,g=CT.dom._blurs[a]||d._blurs;if(!f||(g&&g.indexOf(f)!=-1))return "";if(c){if(c.requires)for(var e=0;e<c.requires.length;e++)if(f.indexOf(c.requires[e])==-1){f="";break;}if((f&&f.length||0)<(c.length||0))f="";}return f;},"blurField":function(a,b){b=CT.dom._blurs[a.id]=a._blurs=b||CT.dom._blurs[a.id]||a._blurs;var c=a.type=="password";if(b){a.onblur=function(){if(a.value==""){if(c)a.type="";a.classList.add("gray");a.value=b[Math.floor(Math.random()*b.length)];}else a.classList.remove("gray");};a.onfocus=function(){if(b.indexOf(a.value)!=-1){a.value="";if(c)a.type="password";a.classList.remove("gray");}};a.onblur();}},"setFieldValue":function(a,b,c){var d=document.getElementById(b);if(!d)return setTimeout(CT.dom.setFieldValue,500,a,b,c);if(c)for(var e=0;e<c.length;e++)d=d[c[e]];d.value=a||"";CT.dom.blurField(d);},"genfield":function(a,b,c,d,e,f){var g=CT.dom.field("up"+a,e||d[a],"right w280",(a.indexOf("password")!=-1)&&"password"||null);c[a]=g;b.appendChild(g);b.appendChild(CT.dom.node(CT.parse.key2title(a),"label","bold",null,{"for":"up"+a,"htmlFor":"up"+a}));if(f){b.appendChild(CT.dom.node("&nbsp;&nbsp;","span"));b.appendChild(f);}b.appendChild(CT.dom.node("","div","clearnode"));},"inputEnterCallback":function(a,b,c){a.onenter=function(){if(c)document.getElementById(c).focus();if(b&&(b(a.value)=="clear"))a.value="";};a.addEventListener("keyup",function(b){b=b||window.event;var c=b.keyCode||b.which;if(c==13||c==3)a.onenter();});return a;},"smartField":function(a,b,c,d,e,f,g){if(arguments.length==1&&typeof arguments[0]!="function"){var h=arguments[0];a=h.cb;b=h.classname;c=h.id;d=h.value;e=h.type;f=h.blurs;g=h.isTA;}c=c||("sf"+Math.floor((Math.random()*100000)));var i=CT.dom.inputEnterCallback(CT.dom[g?"textArea":"field"](c,d,b,e),a,c);if(f)CT.dom.blurField(i,f);return i;},"_isVerticalOrientation":function(a){if(a.clientHeight==0||a.clientWidth==0)return undefined;return a.clientWidth/a.parentNode.clientWidth<a.clientHeight/a.parentNode.clientHeight;},"cover":function(a){var b=CT.dom._isVerticalOrientation(a);if(b==undefined)return b;a.classList.add(b?"w1":"h1");a.classList.remove(b?"h1":"w1");return b;},"contain":function(a){var b=CT.dom._isVerticalOrientation(a);if(b==undefined)return b;a.classList.add(b?"h1":"w1");a.classList.remove(b?"w1":"h1");return b;},"fit":function(a){a.fit=function(){if(a.scrollHeight!=a.clientHeight){var b=parseInt(getComputedStyle(a).fontSize);a.style.fontSize=(b-1)+"px";setTimeout(a.fit);}};CT.onresize(a.fit);},"_ricounter":0,"_get_ta_id":function(){var a="richinput"+CT.dom._ricounter;CT.dom._ricounter+=1;return a;},"richInput":function(a,b,c,d,e,f,g){b=b||CT.dom._get_ta_id();e=e||500;var h=CT.dom.textArea(b,d,"fullwidth");CT.dom.blurField(h,f);a.appendChild(CT.dom.node(h));var i=CT.dom.node("("+e+" chars left)","div","right",b+"cc");h.onkeyup=function(a){a=a||window.event;var c=CT.dom.getFieldValue(b).length;if(c>e){h.value=h.value.slice(0,e);i.className="right bold";if(a.preventDefault)a.preventDefault();return false;}else i.className="right";i.innerHTML="("+(e-c)+" chars left)";CT.dom.resizeTextArea(h);return true;};a.appendChild(i);if(c)a.appendChild(c);else if(!g)a.appendChild(CT.dom.node("","div","clearnode"));return h;},"showHideT":function(a){a=a||document.body;a.style.opacity=a.style.opacity=="1"&&"0"||"1";},"showHideV":function(a,b,c){a=a||document.body;if(b)a.style.visibility="visible";else if(c)a.style.visibility="hidden";else a.style.visibility=a.style.visibility=="visible"&&"hidden"||"visible";},"showHide":function(a,b,c,d){a=a||document.body;if(typeof a=="string")a=CT.dom.id(a);d=d||"block";if(b||c)a.style.display=b&&d||"none";else if(a.style.display==""&&a.className.indexOf("hidden")==-1)a.style.display="none";else a.style.display=(a.style.display==d)&&"none"||d;},"showHideSet":function(a,b,c,d){for(var e=0;e<a.length;e++)CT.dom.showHide(a[e],b,c,d);},"show":function(a,b){CT.dom.showHide(a,true,false,b);},"hide":function(a){CT.dom.showHide(a,false,true);},"showV":function(a){CT.dom.showHideV(a,true);},"hideV":function(a){CT.dom.showHideV(a,false,true);},"remove":function(a){if(!a)return;if(typeof a=="string")a=CT.dom.id(a);a&&a.parentNode&&a.parentNode.removeChild(a);},"replace":function(a,b){if(a.parentNode){a.parentNode.insertBefore(typeof b=="string"?CT.dom.node(b):b,a);a.parentNode.removeChild(a);}},"clear":function(a){if(typeof a=="string")a=CT.dom.id(a);(a||document.body).innerHTML="";},"addContent":function(a,b,c){if(typeof b=="function")b=b();if(Array.isArray(b))b=CT.dom.div(b,c);if(typeof a=="string")a=CT.dom.id(a,true);if(typeof b=="string"||typeof b=="number")a.innerHTML+=b;else if(b)a.appendChild(b);},"setContent":function(a,b,c){CT.dom.clear(a);CT.dom.addContent(a,b,c);},"addEach":function(a,b){b.forEach(function(b){a.appendChild(b);});},"ALLNODE":null,"loadAllNode":function(a){if(!CT.dom.ALLNODE){CT.dom.ALLNODE=document.getElementById("all")||(a&&document.body);CT.dom.ALLNODE._mobile=CT.align.width()<=720;window.onresize=function(){CT.dom.ALLNODE.resize&&CT.dom.ALLNODE.resize();CT.align.resize();};}},"getAllNode":function(a){CT.dom.loadAllNode(a);return CT.dom.ALLNODE;},"showAllNode":function(){var a=CT.dom.ALLNODE;a.style.opacity=a.style["-moz-opacity"]=a.style["-khtml-opacity"]="1";a.style.filter="alpha(opacity = 100)";a.style["-ms-filter"]="progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";},"addStyle":function(a,b,c){if(c){a=[];for(var d in c){a.push(d+" {");var e=c[d];for(var f in e)a.push(f+": "+e[f]+";");a.push("}");}a=a.join("\n");}var g=b?CT.dom.node(null,"link",null,null,{"href":b,"rel":"stylesheet"}):CT.dom.node(a,"style");CT.dom.head(g);},"doWhenNodeExists":function(a,b){if(document.getElementById(a))return b();setTimeout(CT.dom.doWhenNodeExists,500,a,b);},"id":function(a,b){return document.getElementById(a)||b&&CT.dom._nodes[a];},"_narr2arr":function(a){var b=[];for(var c=0;c<a.length;c++)b.push(a[c]);return b;},"className":function(a,b){return CT.dom._narr2arr((b||document).getElementsByClassName(a));},"tag":function(a,b){return CT.dom._narr2arr((b||document).getElementsByTagName(a));},"attr":function(a,b,c){var d=CT.dom.Q("["+(b?(a+'="'+b+'"'):a)+"]");return c?d[0]:d;},"Q":function(a,b){return CT.dom._narr2arr((b||document.body).querySelectorAll(a));},"head":function(a){var b=CT.dom.tag("head")[0];if(a)b.appendChild(a);return b;},"meta":function(a,b){var c=CT.dom.node(null,"meta");c.name=a;c.content=b;CT.dom.head(c);},"each":function(a,b){for(var c=0;c<a.childNodes.length;c++)b(a.childNodes[c]);},"map":function(a,b){var c=[];for(var d=0;d<a.childNodes.length;d++)c.push(b(a.childNodes[d]));return c;},"mod":function(a){var b=a.targets?a.targets:(a.target?[a.target]:(a.className?CT.dom.className(a.className):(a.id?[CT.dom.id(a.id)]:[]))),c=a.property||"display",d=a.value||(a.show?"block":a.hide?"none":""),e=a.modz;if(!e){e={};e[c]=d;}Object.keys(e).forEach(function(a){for(var c=0;c<b.length;c++)b[c].style[a]=e[a];});}};;window.CT.hover=window.CT.hover||{};CT.hover={_:{},_pos:function(a,b){if(b){var c=0,d=0;while(!isNaN(a.offsetLeft)){c+=a.offsetLeft;d+=a.offsetTop;a=a.parentNode;}return [c,d];}return [a.offsetLeft,a.offsetTop];},_hide:function(){var a=CT.hover._;setTimeout(function(){!a.nodeOn&&!a.hoverOn&&CT.dom.hide(a.infoBubble);},1000);},set:function(a,b,c,d,e){if(arguments.length==1&&!(a instanceof Node)){var f=arguments[0];a=f.node;b=f.content;c=f.poptop;d=f.stayopen;e=f.recursive;}var g=CT.hover._;if(!g.infoBubble){g.infoBubble=CT.dom.div("","small hidden infobubble");CT.dom.getAllNode(true).appendChild(g.infoBubble);g.bubbleBounds={'left':0,'top':0};}a.onmouseover=function(d){g.nodeOn=true;var f=CT.hover._pos(a,e);CT.dom.ALLNODE.appendChild(g.infoBubble);CT.dom.setContent(g.infoBubble,b);CT.dom.show(g.infoBubble);var h=c?-(g.infoBubble.clientHeight+10):((a.clientHeight||a.offsetHeight)+10);g.bubbleBounds.right=CT.dom.ALLNODE.clientWidth-g.infoBubble.clientWidth;g.bubbleBounds.bottom=CT.dom.ALLNODE.clientHeight-g.infoBubble.clientHeight;g.infoBubble.style.left=Math.min(g.bubbleBounds.right-10,Math.max(10,f[0]-(g.infoBubble.clientWidth-(a.clientWidth||a.offsetWidth))/2))+"px";g.infoBubble.style.top=(f[1]+h)+"px";};a.onmouseout=function(){g.nodeOn=false;CT.hover._hide();};if(d){b.onmouseover=function(a){g.hoverOn=true;};b.onmouseout=function(a){g.hoverOn=false;CT.hover._hide();};}return a;}};;window.CT.modal=window.CT.modal||{};CT.modal._defaults={Modal:{className:"basicpopup",innerClass:"h1 w1 scroller",transition:"none",center:true,noClose:false,slide:{origin:"top"}},LightBox:{className:"backdrop",transition:"fade",caption:"",noClose:true},Prompt:{style:"string",prompt:"",clear:false,data:[]}};CT.modal.Modal=CT.Class({CLASSNAME:"CT.modal.Modal",visible:false,setup:{_centerv:function(a){var b=a.clientHeight||CT.align.height();b-=this.node.clientHeight;return b/2;},_centerh:function(a){var b=a.clientWidth||CT.align.width();b-=this.node.clientWidth;return b/2;},_fallbacks:function(a){var b=this.node;if(!b.style.top&&!b.style.bottom)b.style.top=this.setup._centerv(a)+"px";if(!b.style.left&&!b.style.right)b.style.left=this.setup._centerh(a)+"px";},_add:function(a,b){var c=this.node;a=(a instanceof Node)?a:document.body;CT.dom.addContent(a,c);this.opts.center&&!b&&this.setup._fallbacks(a);},none:function(){var a=this.node;a.show=this.setup._add;a.hide=function(){CT.dom.remove(a);};},fade:function(){var a=this.node,b=this.setup._add;a.show=function(c){a.style.opacity=0;b(c);setTimeout(function(){CT.trans.trans({node:a,property:"opacity",value:1});},100);};a.hide=function(){CT.trans.trans({node:a,property:"opacity",value:0,cb:function(){CT.dom.remove(a);}});};},slide:function(){var a=this.node,b=this.setup._add,c=this.opts.slide.origin,d=this.opts.center,e=this.setup._centerv,f=this.setup._centerh,g=this.setup._fallbacks,h=false,i=false;var j=function(b){b=(b instanceof Node)?b:document.body;["top","bottom"].forEach(function(f,g){if(c.startsWith(f)){a.style[f]=-a.clientHeight+"px";a._vout={node:a,property:f,value:a.style[f]};a._vin={node:a,property:f,value:(d?e(b):0)+"px"};h=true;}});["left","right"].forEach(function(e,g){if(c.endsWith(e)){a.style[e]=-a.clientWidth+"px";a._hout={node:a,property:e,value:a.style[e]};a._hin={node:a,property:e,value:(d?f(b):0)+"px"};i=true;}});g(b);};a.show=function(c){b(c,true);j(c);setTimeout(function(){h&&CT.trans.trans(a._vin);i&&CT.trans.trans(a._hin);},100);};a.hide=function(){h&&CT.trans.trans(a._vout);i&&CT.trans.trans(a._hout);CT.trans.trans({cb:function(){CT.dom.remove(a);}});};}},on:{show:function(){},hide:function(){}},hide:function(){this.node.hide();this.visible=false;this.on.hide();},_show:function(a){this.node.show(a);this.visible=true;this.on.show();},show:function(a,b){setTimeout(this._show,0,a);b&&setTimeout(b,200);},showHide:function(a){this.visible?this.hide():this.show(a);},addClose:function(){this.node.insertBefore(CT.dom.div(CT.dom.link("X",this.hide),"abs ctr above"),this.node.firstChild);},build:function(){},clear:function(){this.node.lastChild.innerHTML="";},isClear:function(){return !this.node.lastChild.childElementCount;},add:function(a){CT.dom.addContent(this.node.lastChild,a);},set:function(a){this.clear();this.add(a);},_buildContent:function(){var a=this.opts,b={};["top","bottom","right","left"].forEach(function(c){if(c in a.slide)b[c]=a.slide[c];});this.node=CT.dom.node(CT.dom.node(null,null,a.innerClass),"div",a.className,null,null,b);if(!a.noClose)this.addClose();this.node.modal=this;this.setup[a.transition]();this.build();if(a.content||a.node)this.add(a.content||a.node);},init:function(a){this.opts=CT.merge(a,CT.modal._defaults.Modal);setTimeout(this._buildContent);}});CT.modal.LightBox=CT.Class({init:function(a){this.opts=CT.merge(a,CT.modal._defaults.LightBox,CT.modal._defaults.Modal,{content:CT.dom.div(CT.dom.div(this.opts.caption,"biggest bold padded round translucent full-center white grayback pointer hoverglow"),"backdrop-img filler","",{onclick:this.hide},{backgroundImage:"url("+this.opts.img+")"})});}},CT.modal.Modal);CT.modal.Prompt=CT.Class({CLASSNAME:"CT.modal.Prompt",_input:{string:function(){if(this.opts.autocomplete)return CT.autocomplete.DBGuesser({rows:true,input:CT.dom.field(),tapCb:this.submitAC,property:this.opts.autocomplete.property,modelName:this.opts.autocomplete.modelName}).input;else return CT.dom.smartField({cb:this.submit,isTA:this.opts.isTA,blurs:this.opts.blurs,classname:this.opts.inputClass});},"multiple-string":function(){var a=CT.dom.fieldList();this.node.appendChild(a.empty);this.node.appendChild(a.addButton);return a;},password:function(){return CT.dom.smartField(this.submit,null,null,null,"password");},"single-choice":function(a){return CT.dom.choices(this._nodify(a));},"multiple-choice":function(a){return CT.dom.choices(this._nodify(a),true);},"file":function(){this.continueButton.disabled=true;return CT.file.getter(function(a){if(a.opts.path)this.continueButton.disabled=false;}.bind(this));}},on:{show:function(){this.input&&!this.opts.blurs&&this.input.focus();if(this.opts.clear)this.input.value="";},hide:function(){}},submitAC:function(a){this.opts.cb(a);this.hide();},submit:function(){if(this.opts.style=="multiple-choice"){var a=this;this.opts.cb(this.input.value.map(function(b){return a.opts.data[b];}));}else this.opts.cb(this.input&&(this.input.ctfile||((typeof this.input.value=="function")&&this.input.value())||this.opts.data[this.input.value]||this.input.value));this.hide();},_nodify:function(a){if(typeof a[0]=="string")return a.map(function(a){return CT.dom.node(a);});return a;},build:function(){this.continueButton=CT.dom.button("Continue",this.submit);this.node.appendChild(CT.dom.node(this.opts.prompt));if(this.opts.style!="confirm"){this.input=this._input[this.opts.style](this.opts.data);this.node.appendChild(this.input);}this.node.appendChild(this.continueButton);this.node.appendChild(CT.dom.button("Cancel",this.hide));},init:function(a){this.opts=CT.merge(this.opts,a,CT.modal._defaults.Prompt,CT.modal._defaults.Modal);}},CT.modal.Modal);;window.CT.pubsub=window.CT.pubsub||{};CT.pubsub={"_":{"ws":null,"args":null,"open":false,"initialized":false,"autohistory":false,"autohistory_exemptions":[],"reconnect":true,"reconnect_interval":250,"protocol":location.protocol=="http:"&&"ws"||"wss","log":CT.log.getLogger("CT.pubsub"),"queue":[],"channels":{},"cb":{"snapshot":CT.log.getLogger("CT.pubsub|snapshot"),"pm":CT.log.getLogger("CT.pubsub|pm"),"message":CT.log.getLogger("CT.pubsub|message"),"subscribe":CT.log.getLogger("CT.pubsub|subscribe"),"join":CT.log.getLogger("CT.pubsub|join"),"leave":CT.log.getLogger("CT.pubsub|leave"),"presence":CT.log.getLogger("CT.pubsub|presence"),"open":CT.log.getLogger("CT.pubsub|open"),"close":CT.log.getLogger("CT.pubsub|close"),"wserror":CT.log.getLogger("CT.pubsub|wserror"),"error":CT.log.getLogger("CT.pubsub|error")},"process":{"channel":function(a){var b=CT.pubsub._;b.channels[a.channel]=a;b.cb.subscribe(a);if(b.autohistory&&(b.autohistory_exemptions.indexOf(a.channel)==-1))a.history.forEach(CT.pubsub._.process.publish);CT.pubsub._.cb.presence(a.presence.length,a.channel);},"publish":function(a){CT.pubsub._.cb.message(a);},"subscribe":function(a){CT.pubsub._.cb.join(a.channel,a.user);var b=CT.pubsub._.channels[a.channel];if(b){CT.data.append(b.presence,a.user);CT.pubsub._.cb.presence(b.presence.length,a.channel);}},"unsubscribe":function(a){CT.pubsub._.cb.leave(a.channel,a.user);var b=CT.pubsub._.channels[a.channel];if(b){CT.data.remove(b.presence,a.user);CT.pubsub._.cb.presence(b.presence.length,a.channel);}},"pm":function(a){CT.pubsub._.cb.pm(a.message,a.user);},"error":function(a){CT.pubsub._.cb.error(a.message);},"snapshot":function(a){CT.pubsub._.cb.snapshot(a);a.channels.forEach(function(a){var b=CT.pubsub._.channels[a.name]={channel:a.name,presence:a.users};CT.pubsub._.cb.subscribe(b);});}},"on":{"open":function(){CT.pubsub._.open=true;CT.pubsub._.reconnect_interval=250;CT.pubsub._.write({"action":"register","data":CT.pubsub._.args[2]});for(var a in CT.pubsub._.channels)CT.pubsub.subscribe(a);CT.pubsub._.queue.forEach(CT.pubsub._.write);CT.pubsub._.queue.length=0;CT.pubsub._.cb.open();},"close":function(){CT.pubsub._.open=false;CT.pubsub._.cb.close();if(CT.pubsub._.reconnect)CT.pubsub._.try_reconnect();},"error":function(){CT.pubsub._.cb.wserror();},"message":function(a){var b=JSON.parse(atob(a.data));CT.pubsub._.process[b.action](b.data);}},"write":function(a){if(CT.pubsub._.open){var b=JSON.stringify(a),c=btoa(b);CT.pubsub._.ws.send(c);}else CT.pubsub._.queue.push(a);},"try_reconnect":function(){var a=CT.pubsub._.reconnect_interval;CT.pubsub._.log("RECONNECT",a);setTimeout(function(){CT.pubsub.connect.apply(null,CT.pubsub._.args);},a);CT.pubsub._.reconnect_interval=Math.min(2*a,30000);}},"isInitialized":function(){return CT.pubsub._.initialized;},"set_protocol":function(a){CT.pubsub._.protocol=a;},"set_reconnect":function(a){CT.pubsub._.reconnect=a;},"set_autohistory":function(a,b,c){CT.pubsub._.autohistory=a;if(b)if(c)b.forEach(function(a){CT.pubsub._.autohistory_exemptions.push(a);});else CT.pubsub._.autohistory_exemptions=b;},"set_cb":function(a,b){CT.pubsub._.cb[a]=b;},"presence":function(a){return CT.pubsub._.channels[a].presence;},"pm":function(a,b){CT.pubsub._.write({"action":"pm","data":{"user":a,"message":b}});},"publish":function(a,b){CT.pubsub._.write({"action":"publish","data":{"channel":a,"message":b}});},"subscribe":function(a){CT.pubsub._.write({"action":"subscribe","data":a});},"unsubscribe":function(a){CT.pubsub._.write({"action":"unsubscribe","data":a});},"connect":function(a,b,c,d){CT.pubsub._.args=arguments;CT.pubsub._.initialized=true;CT.pubsub._.ws=new WebSocket(CT.pubsub._.protocol+"://"+a+":"+b);for(var e in CT.pubsub._.on)CT.pubsub._.ws["on"+e]=CT.pubsub._.on[e];window.addEventListener("beforeunload",function(){d&&d();CT.pubsub._.write({"action":"close"});});}};;window.CT.trans=window.CT.trans||{};CT.trans={_:{vender_prefixes:["-webkit-","-moz-","-ms-","-o-",""],enames:["webkitTransitionEnd","mozTransitionEnd","oTransitionEnd","transitionend"],defaults:{trans:{duration:500,property:"*",ease:"ease-in-out"},rotate:{degrees:180,duration:1000,property:"transform",ease:"linear",prefix:true},translate:{duration:300,property:"transform",ease:"linear",prefix:true,x:0,y:0,z:0},wobble:{axis:"x",radius:50,duration:100},pan:{duration:5000,ease:"linear",x:0,y:0},resize:{duration:300,ease:"linear"},fadeIn:{duration:1600,property:"opacity",value:1},fadeOut:{duration:1600,property:"opacity",value:0},pulse:{wait:1000},invert:{direction:"horizontal",property:"transform",prefix:true}}},setVenderPrefixed:function(a,b,c){for(var d=0;d<CT.trans._.vender_prefixes.length;d++)a.style[CT.trans._.vender_prefixes[d]+b]=c;},trans:function(a){a=CT.merge(a,CT.trans._.defaults.trans);if(typeof a.node=="string")a.node=CT.dom.id(a.node);if(a.node){var b=a.node.style.transition||"",c=a.property+" "+a.duration+"ms "+a.ease,d=(b&&b.indexOf(c)==-1)?(b+", "+c):c;CT.trans.setVenderPrefixed(a.node,"transition",d);}if(a.cb){var e,f=function(){a.node&&CT.trans.setVenderPrefixed(a.node,"transition",b);clearTimeout(e);e=null;if(a.node)CT.trans._.enames.forEach(function(b){a.node.removeEventListener(b,f,false);});a.cb();};if(a.node)CT.trans._.enames.forEach(function(b){a.node.addEventListener(b,f,false);});else e=setTimeout(f,a.duration);}if(a.node&&a.property&&a.property!="*")if(a.prefix)CT.trans.setVenderPrefixed(a.node,a.property,a.value);else a.node.style[a.property]=a.value;},invert:function(a,b){b=CT.merge(b,CT.trans._.defaults.invert);b.node=a;b.value="scale"+(b.direction=="horizontal"?"X":"Y")+"(-1)";CT.trans.trans(b);return a;},rotate:function(a,b){b=CT.merge(b,CT.trans._.defaults.rotate);b.node=a;b.value="rotate("+b.degrees+"deg)";if(b.forever)b.cb=function(){b.degrees+=CT.trans._.defaults.rotate.degrees;CT.trans.rotate(a,b);};CT.trans.trans(b);return a;},translate:function(a,b){b=CT.merge(b,CT.trans._.defaults.translate);b.node=a;if(b.axis)b[b.axis]=b.value;b.value="translate3d("+b.x+"px,"+b.y+"px,"+b.z+"px)",CT.trans.trans(b);},wobble:function(a,b){b=CT.merge(b,CT.trans._.defaults.wobble);CT.trans.translate(a,{axis:b.axis,ease:"ease-out",value:b.radius,duration:b.duration,cb:function(){CT.trans.translate(a,{axis:b.axis,ease:"ease-in-out",value:-b.radius,duration:b.duration*2,cb:function(){CT.trans.translate(a,{axis:b.axis,ease:"ease-in",value:0,duration:b.duration});}});}});},pan:function(a,b){b=CT.merge(b,CT.trans._.defaults.pan);var c=function(b){a._vertical=CT.dom.cover(a);a._prop=a._vertical?"y":"x",a._dim=a._vertical?"clientHeight":"clientWidth";a._bound=a.parentNode[a._dim]-a[a._dim];b&&setTimeout(b);},d=function(){b[a._prop]=b[a._prop]?0:a._bound;CT.trans.translate(a,b);},e=new CT.trans.Controller(d);a.onload=function(){var d=a._prop;c();if(d&&d!=a._prop)b[d]=0;setTimeout(e.resume);};CT.onresize(a.onload);b.cb=e.tick;return e;},resize:function(a,b){var c=b.width,d=b.height,e=b.cb;delete b.width;delete b.height;delete b.cb;b.node=a;b=CT.merge(b,CT.trans._.defaults.resize);if(c)CT.trans.trans(CT.merge({property:"width",value:c},b));if(d)CT.trans.trans(CT.merge({property:"height",value:d},b));if(e)CT.trans.trans(CT.merge({cb:e},b));},fadeIn:function(a,b){b=CT.merge(b,CT.trans._.defaults.fadeIn);b.node=a;CT.trans.trans(b);},fadeOut:function(a,b){b=CT.merge(b,CT.trans._.defaults.fadeOut);b.node=a;CT.trans.trans(b);},pulse:function(a,b,c){b=CT.merge(b,CT.trans._.defaults.pulse);var d,e=new CT.trans.Controller(function(){d=!d;if(d)setTimeout(function(){CT.trans.fadeIn(a,b);},b.wait);else CT.trans.fadeOut(a,b);});b.cb=e.tick;if(!c)e.tick();return e;}};CT.trans.Controller=CT.Class({CLASSNAME:"CT.trans.Controller",pause:function(){this._paused=true;},resume:function(){if(this._paused!=false){this._paused=false;if(this._stalled){this._stalled=false;this.cb();}}},active:function(){return !this._paused;},tick:function(){if(this.active())this.cb();else this._stalled=true;},init:function(a){this.cb=a;this._stalled=true;}});;window.CT.admin=window.CT.admin||{};window.CT.admin.core=window.CT.admin.core||{};CT.admin.core={q:function(a,b,c,d,e){d=d||{};d.pw=CT.admin.core._pw;d.action=a;CT.net.post(e||"/admin",d,c,b);},credcheck:function(a,b){CT.net.post("/_db",{action:"credcheck",pw:CT.admin.core._pw},null,b,a);},_init:function(a){var b=CT.admin.core;b._pw=a;if(b._skipinit)CT.admin.core.credcheck(function(a){alert(a);location="/";},b._initcb);else b.q(b._mode,b._initcb,"failed to initialize "+b._mode);},init:function(a,b,c){CT.admin.core._mode=a;CT.admin.core._initcb=b;CT.admin.core._skipinit=c;CT.modal.Prompt({style:"password",prompt:"password?",transition:"fade",cb:CT.admin.core._init}).show();}};;window.CT.admin.monitor=window.CT.admin.monitor||{};CT.admin.monitor={"snapshot":function(){var a=[],b=[],c=CT.admin.monitor._logs;c.forEach(function(c,d){a.push(c[0]+" ("+c[1].length+")");b.push(d);});var d=CT.dom.select(a,b),e=CT.dom.select(a,b);var f=new CT.modal.Modal({transition:"slide",content:["Start?",d,"End?",e,CT.dom.button("Go",function(){var b=d.value+e.value;f.hide();new CT.modal.Modal({transition:"slide",slide:{origin:"bottom"},className:"basicpopup unlimited h4-5 w4-5",content:[CT.dom.div(a[d.value].slice(13)+" - "+a[e.value].slice(13),"biggest bold centered"),CT.dom.div(null,"ct-chart ct-perfect-fourth","graph"+b),CT.dom.div(null,"centered","legend"+b),CT.dom.div(null,"abs ctr","web_totals"+b),CT.dom.div(null,"abs ctl","admin_totals"+b)]}).show(null,function(){var a=new CT.admin.monitor.Graph({graph:"graph"+b,legend:"legend"+b,web_totals:"web_totals"+b,admin_totals:"admin_totals"+b});c.slice(parseInt(d.value),parseInt(e.value)+1).forEach(function(b){var c=b[0],d=b[1];d.forEach(function(b){CT.net.get("/"+c+"/"+b).split("\n").forEach(function(b){b&&a.update({message:JSON.parse(b)});});});});});})]});f.show();},"init":function(){CT.admin.core.init("monitor",function(a){CT.admin.monitor._graph=new CT.admin.monitor.Graph();CT.pubsub.set_autohistory(true);CT.pubsub.set_cb("message",CT.admin.monitor._graph.update);CT.pubsub.subscribe("monitor");CT.pubsub.connect(a.host,a.port,"__admin__"+Math.floor(Math.random()*1000)+btoa(CT.admin.core._pw));a.logs=a.logs||[];a.logs.sort(function(a,b){return a[0]<b[0]?-1:1;});a.logs.forEach(function(a){a[1].sort(function(a,b){return parseInt(a)<parseInt(b)?-1:1;});});CT.admin.monitor._logs=a.logs;CT.admin.monitor._cache={};if(a.logs.length){var b=CT.dom.id("snapshot");b.onclick=CT.admin.monitor.snapshot;CT.dom.show(b);}if(a.geo){CT.setVal("mapkey",CT.data.choice(a.geo));CT.require("CT.parse",true);CT.require("CT.storage",true);CT.require("CT.map",true);CT.map.util.setGeoKeys(a.geo);CT.admin.monitor._graph.enableMaps();}});}};CT.admin.monitor.Graph=CT.Class({CLASSNAME:"CT.admin.monitor.Graph",_graph:function(){new Chartist.Line("#"+this.opts.graph,{series:Object.values(this.data)},{low:0,high:100});},_pie:function(a){var b,c,d={};for(b in a)for(c in a[b]){if(c.startsWith("python-requests"))continue;if(!(c in d))d[c]=0;d[c]+=a[b][c];}new Chartist.Pie("#"+this.opts.pie,{labels:Object.keys(d),series:Object.values(d)});},_mapButton:function(a){var b=this;CT.dom.addContent("map_buttons",CT.dom.button(a+" map",function(){CT.dom.show("map_node");CT.dom.clear("map");var c={},d={},e=Object.keys(b._ips[a]);CT.net.post({path:location.protocol+"//api.mkult.co/geo",params:{action:"ips",ips:e},cb:function(f){e.forEach(function(e,g){var h=c[e]=f[g],i=b._ips[a][e],j=h.latitude+", "+h.longitude;if(h.location=="unknown")return;if(!d[j])d[j]={total:0};d[j][e]=i;d[j].total+=i;});var g=new CT.map.Map({node:CT.dom.id("map"),markers:Object.keys(d).map(function(a){var b=a.split(", "),c=parseFloat(b[0]),e=parseFloat(b[1]);return{title:a+" ("+d[a].total+")",position:{lat:c,lng:e}};})});}});},"margined"));},enableMaps:function(){this._mapsEnabled=true;CT.dom.id("map_close").onclick=function(){CT.dom.hide("map_node");};},update:function(a){var b,c,d,e=!Object.keys(this.data).length;for(b in a.message){c=a.message[b];if(b=="totals"){for(d in c)CT.dom.setContent(this.opts[d+"_totals"],Object.keys(c[d]).map(function(a){return c[d][a]+" total "+d+" "+a;}));continue;}if(b=="devices"||b=="ips")continue;if(!(b in this.data))this.data[b]=[];if(["read","write"].indexOf(b)!=-1)c/=10000;else if(["sent","recv"].indexOf(b)!=-1)c/=100000000;this.data[b].push(c);}this._graph();this._pie(a.message.devices);this._ips=a.message.ips;if(e){var f=this.hovers={};var g=Object.keys(this.data).map(function(a){var b=f[a]=CT.dom.div();if(["read","write"].indexOf(a)!=-1)a+=" (X 10,000)";else if(["sent","recv"].indexOf(a)!=-1)a+=" (X 100,000,000)";var c=CT.dom.div(a,"big m5 padded inline-block pointer");CT.hover.set(c,b);return c;}),h=CT.dom.id(this.opts.graph);CT.dom.addContent(this.opts.legend,g);setTimeout(function(){CT.dom.className("ct-line",h).forEach(function(a,b){g[b].style.background=window.getComputedStyle(a).getPropertyValue("stroke");});},200);if(this._mapsEnabled)for(b in a.message.ips)this._mapButton(b);}for(var i in this.hovers)CT.dom.setContent(this.hovers[i],a.message[i]);},init:function(a){this.opts=a=CT.merge(a,{data:{},pie:"pie",graph:"graph",legend:"legend",web_totals:"web_totals",admin_totals:"admin_totals"});this.data=a.data;}});;CT.onload(CT.admin.monitor.init);;</script> </head><body><div class="biggest bold centered pb10">Your System Right Now</div><div class="centered" id="map_buttons"></div><div class="abs all10 mosthigh hidden" id="map_node"><button class="abs ctr mosthigh" id="map_close">close</button><div class="full" id="map"></div></div><div id="graph" class="ct-chart ct-perfect-fourth"></div><div id="legend" class="centered"></div><div id="web_totals" class="fixed ctr"></div><div id="admin_totals" class="fixed ctl"></div><div id="pie" class="abs above translucent w700p h700p"></div><button id="snapshot" class="fixed cbr hidden">snapshot</button><noscript><div style="position: absolute; left:0px; top:0px;"> This site requires Javascript to function properly. To enable Javascript in your browser, please follow <a href="http://www.google.com/support/bin/answer.py?answer=23852">these instructions</a>. Thank you, and have a nice day. </div></noscript></body></html>